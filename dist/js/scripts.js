let pokemonRepository=function(){let t=[];function e(){return t}function n(e){return"object"==typeof e&&"name"in e?t.push(e):document.write("<p> not an object</p>")}function o(t,e){t.addEventListener("click",function(){l(e).then(function(){i(e)})})}function i(t){let e=$(".modal-body"),n=$(".modal-title");n.empty(),e.empty(),pokemonRepository.loadDetails(t).then(function(){let n="";t.types.forEach(function(t){n=t.type.name+", "+n});let o="";t.abilities.forEach(function(t){o=t.ability.name+", "+o});let i=$("<p>types : "+n+"</p>"),a=$("<p>abilities : "+o+"</p>");e.append(i),e.append(a)});let o=$("<h1>"+t.name+"</h1>"),i=$('<img class="modal-img" style="width:50%">');i.attr("src",t.imageUrlFront);let a=$('<img class="modal-img" style="width:50%">');a.attr("src",t.imageUrlBack);let l=$("<p>height : "+t.height+"</p>"),r=$("<p>weight : "+t.weight+"</p>");n.append(o),e.append(i),e.append(a),e.append(l),e.append(r)}function a(t){let e=document.querySelector(".pokemon-list"),n=document.createElement("li");n.classList.add("list-group-item"),e.appendChild(n);let a=document.createElement("button");a.classList.add("pokemon-button","custom-button"),a.innerText=t.name,n.appendChild(a),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#exampleModal"),a.addEventListener("click",function(){i(t)}),o(a,t)}function l(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){t.imageUrlFront=e.sprites.front_default,t.imageUrlBack=e.sprites.back_default,t.height=e.height,t.weight=e.weight,t.types=e.types,t.abilities=e.abilities}).catch(function(){})}let r=e=>t.filter(t=>t.name.toLowerCase()===e.toLowerCase());function s(){let t=document.getElementById("searchInput"),e=t.value.toLowerCase(),n=pokemonRepository.getAll(),o=n.filter(t=>t.name.toLowerCase().includes(e)),i=document.querySelector(".pokemon-list");i.innerHTML="",o.forEach(t=>{a(t)})}return document.getElementById("searchInput").addEventListener("input",s),{add:n,getAll:e,findPokemonByName:r,addListItem:a,showDetails:o,loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){n({name:t.name,detailsUrl:t.url})})}).catch(function(){})},loadDetails:l,showModal:i,searchPokemon:s}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});